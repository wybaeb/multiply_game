<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç –º—É–∑—ã–∫–∞–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background: #f0f0f0;
        }
        .test-container {
            max-width: 600px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .test-btn {
            display: block;
            width: 100%;
            padding: 15px;
            margin: 10px 0;
            border: none;
            border-radius: 5px;
            background: #007bff;
            color: white;
            font-size: 16px;
            cursor: pointer;
        }
        .test-btn:hover {
            background: #0056b3;
        }
        .status {
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
            background: #e9ecef;
        }
        .volume-control {
            margin: 20px 0;
        }
        .volume-slider {
            width: 100%;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>–¢–µ—Å—Ç –º—É–∑—ã–∫–∞–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã</h1>
        
        <div class="status" id="status">
            –°—Ç–∞—Ç—É—Å: –ó–∞–≥—Ä—É–∑–∫–∞...
        </div>
        
        <button class="test-btn" onclick="testMenuMusic()">üéµ –ú—É–∑—ã–∫–∞ –º–µ–Ω—é</button>
        <button class="test-btn" onclick="testGameMusic()">üéÆ –ú—É–∑—ã–∫–∞ –∏–≥—Ä—ã</button>
        <button class="test-btn" onclick="testMonsterMusic()">üëπ –ú—É–∑—ã–∫–∞ –º–æ–Ω—Å—Ç—Ä–∞</button>
        <button class="test-btn" onclick="testVictoryMusic()">üèÜ –ú—É–∑—ã–∫–∞ –ø–æ–±–µ–¥—ã</button>
        <button class="test-btn" onclick="testStopMusic()">‚èπÔ∏è –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –º—É–∑—ã–∫—É</button>
        <button class="test-btn" onclick="testToggleMusic()">üîä/üîá –í–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å</button>
        
        <div class="volume-control">
            <label for="volume-slider">–ì—Ä–æ–º–∫–æ—Å—Ç—å:</label>
            <input type="range" id="volume-slider" class="volume-slider" min="0" max="100" value="50">
            <span id="volume-value">50%</span>
        </div>
        
        <div class="status" id="info">
            –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –º—É–∑—ã–∫–∞–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∑–¥–µ—Å—å...
        </div>
    </div>

    <script src="js/music.js"></script>
    <script>
        let musicManager = null;
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ DOM
        document.addEventListener('DOMContentLoaded', () => {
            setTimeout(() => {
                musicManager = window.musicManager;
                updateStatus();
                updateInfo();
            }, 1000);
        });
        
        function updateStatus() {
            const statusEl = document.getElementById('status');
            if (musicManager) {
                const state = musicManager.getCurrentState();
                const isOn = musicManager.isMusicOn();
                const volume = Math.round(musicManager.getVolume() * 100);
                statusEl.innerHTML = `–°—Ç–∞—Ç—É—Å: ${state} | –ú—É–∑—ã–∫–∞: ${isOn ? '–í–ö–õ' : '–í–´–ö–õ'} | –ì—Ä–æ–º–∫–æ—Å—Ç—å: ${volume}%`;
            } else {
                statusEl.innerHTML = '–°—Ç–∞—Ç—É—Å: –ú—É–∑—ã–∫–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω–∞';
            }
        }
        
        function updateInfo() {
            const infoEl = document.getElementById('info');
            if (musicManager) {
                const state = musicManager.getCurrentState();
                const isOn = musicManager.isMusicOn();
                const volume = Math.round(musicManager.getVolume() * 100);
                infoEl.innerHTML = `
                    <strong>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:</strong><br>
                    –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ: ${state}<br>
                    –ú—É–∑—ã–∫–∞ –≤–∫–ª—é—á–µ–Ω–∞: ${isOn ? '–î–∞' : '–ù–µ—Ç'}<br>
                    –ì—Ä–æ–º–∫–æ—Å—Ç—å: ${volume}%<br>
                    –î–æ—Å—Ç—É–ø–Ω—ã–µ —Ç—Ä–µ–∫–∏: menu, game, monster, victory
                `;
            }
        }
        
        function testMenuMusic() {
            if (musicManager) {
                musicManager.playMenuMusic();
                updateStatus();
                updateInfo();
            }
        }
        
        function testGameMusic() {
            if (musicManager) {
                musicManager.playGameMusic();
                updateStatus();
                updateInfo();
            }
        }
        
        function testMonsterMusic() {
            if (musicManager) {
                musicManager.playMonsterMusic();
                updateStatus();
                updateInfo();
            }
        }
        
        function testVictoryMusic() {
            if (musicManager) {
                musicManager.playVictoryMusic();
                updateStatus();
                updateInfo();
            }
        }
        
        function testStopMusic() {
            if (musicManager) {
                musicManager.stopAllMusic();
                updateStatus();
                updateInfo();
            }
        }
        
        function testToggleMusic() {
            if (musicManager) {
                const isOn = musicManager.toggleMusic();
                updateStatus();
                updateInfo();
            }
        }
        
        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≥—Ä–æ–º–∫–æ—Å—Ç–∏
        document.getElementById('volume-slider').addEventListener('input', (e) => {
            const volume = e.target.value / 100;
            if (musicManager) {
                musicManager.setVolume(volume);
                document.getElementById('volume-value').textContent = e.target.value + '%';
                updateStatus();
                updateInfo();
            }
        });
    </script>
</body>
</html> 